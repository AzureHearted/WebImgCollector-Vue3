<template><div ref="listContainer"><el-scrollbar ref="scrollbarRef"><div class="onlineGallery-listBody" ref="listBody" :style="getStyle"><AppCardv-for="(card, index) in cards":card="card":key="card.id":data-index="index":style="{'--aspect-ratio': card.aspectRatio,}"></AppCard></div></el-scrollbar></div></template><script setup>import AppCard from "./App_Card.vue";const props = defineProps({nowColumn: {type: Number,default: 3,},cards: {type: Array,default: [],},});const listContainer = ref(null); const listBody = ref(null); const scrollbarRef = ref(null);const getStyle = computed(() => {if (listContainer.value == null) {return;}const containerInfo = listContainer.value.getBoundingClientRect();let style = {"--nowColumn": props.nowColumn,"--listHeight": containerInfo.height - 8 * props.nowColumn - 10 + "px","--cardMaxHeight": `calc(var(--listHeight) / var(--nowColumn))`,};if (props.nowColumn <= 0) {style["--cardMaxHeight"] = "1000%";}return style;});</script><style lang="less" scoped>* {border: 0;margin: 0;box-sizing: border-box;}.onlineGallery-listBody {width: 100%;padding: 10px;display: flex;flex-flow: row wrap;justify-content: center;align-items: stretch;align-content: start;gap: 8px;transition: 1s;user-select: none;-webkit-user-drag: none;}</style>