<template><div ref="listContainer"><el-scrollbar ref="scrollbarRef"><transition-groupclass="onlineGallery-listBody"ref="listBody":style="getStyle"name="list"tag="div"><Cardv-for="(card, index) in cardsStore.data.filterCards":card="card":key="card.id":data-index="index":style="{'--aspect-ratio': card.meta.aspectRatio,}"></Card></transition-group></el-scrollbar></div></template><script setup lang="ts">const listContainer = ref(); const listBody = ref(); const scrollbarRef = ref();const listStore = useListInfoStore();const cardsStore = useCardsStore();const getStyle = computed(() => {if (listContainer.value == null) {return;}const containerInfo = listContainer.value.getBoundingClientRect();let style = {"--nowColumn": listStore.info.nowColumn,"--listHeight":containerInfo.height - 8 * listStore.info.nowColumn - 10 + "px","--cardMaxHeight": `calc(var(--listHeight) / var(--nowColumn))`,};if (listStore.info.nowColumn <= 0) {style["--cardMaxHeight"] = "1000%";}return style;});</script><style lang="scss" scoped>* {border: 0;margin: 0;box-sizing: border-box;}.onlineGallery-listBody {width: 100%;padding: 10px;display: flex;flex-flow: row wrap;justify-content: center;align-items: stretch;align-content: start;gap: 8px;transition: 1s;user-select: none;-webkit-user-drag: none;}.v-enter-active,.v-leave-active {transition: opacity 0.5s ease;}.v-enter-from,.v-leave-to {opacity: 0;}.list-move,.list-enter-active,.list-leave-active {transition: all 0.5s ease;}.list-enter-from,.list-leave-to {opacity: 0;transform: translateX(30px);}.list-leave-active {position: absolute;}</style>