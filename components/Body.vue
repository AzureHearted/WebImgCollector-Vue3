<template><div class="onlineGallery-body" ref="body"><el-progressclass="loadingBar"v-show="loading.show":percentage="Math.round(loading.percentage)":status="loading.state"stripedstriped-flow /><Toolbar ref="toolbar" :data="data" :info="info" :loading="loading" class="toolBar" /><List ref="list" class="listContainer" :cards="data.filterCards" :nowColumn="info.nowColumn" /></div></template><script setup>import List from "./List.vue";import Toolbar from "./Toolbar.vue";let toolbar = ref(null);let getCards = () => {toolbar.value.getCards();};const info = reactive({nowColumn: 4,allSelected: false,});const data = reactive({cardList: [], filterCards: [], });const loading = reactive({value: false,show: false,state: "",percentage: 0,init: () => {loading.value = true;loading.show = true;loading.percentage = 0;loading.state = "";},reset: () => {setTimeout(() => {loading.value = false;loading.state = "success";setTimeout(() => {loading.show = false;loading.percentage = 0;loading.state = "";}, 1500);}, 500);},});defineExpose({data,info,loading,getCards,});</script><style lang="scss" scoped>* {border: 0;margin: 0;box-sizing: border-box;}.onlineGallery-body {position: relative;width: 100%;height: 100%;display: flex;flex-flow: column;justify-content: stretch;align-items: center;--header-height: 80px;.toolBar {flex-shrink: 0;position: relative;max-width: 100%;width: 100%;height: max-content;}.listContainer {flex-grow: 1;position: relative;width: 100%;border-radius: 6px;box-shadow: var(--el-box-shadow-light);overflow: hidden;}.loadingBar {position: absolute;margin: 0 auto;top: 2px;left: 0;right: 0;width: 50%;@media (max-width: 500px) {width: 80%;}}}</style>